#!/bin/sh

source `(dirname $(readlink -f $0))`/ENV

# Build container
docker build --force-rm -t ${CONTAINER_NAME} .

# Setup new vue project
docker run \
    -it \
    --rm \
    -w / \
    -u `id -u`:`id -g` \
    -v ${WD}/project:/project \
    ${CONTAINER_NAME} \
    --entrypoint="vue" init webpack project 
 
# Install dependencies
docker run \
    -it \
    --rm \
    -v ${WD}/project:/project \
    -u `id -u`:`id -g` \
    ${CONTAINER_NAME} \
    install